package me.lolimez.A;

import org.bukkit.Bukkit;
import org.bukkit.ChatColor;
import org.bukkit.Material;
import org.bukkit.command.Command;
import org.bukkit.command.CommandSender;
import org.bukkit.configuration.file.FileConfiguration;
import org.bukkit.configuration.file.YamlConfiguration;
import org.bukkit.enchantments.Enchantment;
import org.bukkit.entity.Player;
import org.bukkit.event.EventHandler;
import org.bukkit.event.Listener;
import org.bukkit.event.inventory.InventoryClickEvent;
import org.bukkit.event.inventory.InventoryType;
import org.bukkit.event.player.AsyncPlayerChatEvent;
import org.bukkit.event.player.PlayerJoinEvent;
import org.bukkit.event.player.PlayerMoveEvent;
import org.bukkit.event.player.PlayerQuitEvent;
import org.bukkit.inventory.Inventory;
import org.bukkit.inventory.ItemStack;
import org.bukkit.inventory.meta.ItemMeta;
import org.bukkit.plugin.java.JavaPlugin;
import org.bukkit.scheduler.BukkitRunnable;

import java.io.File;
import java.util.ArrayList;
import java.util.HashMap;

public class A extends JavaPlugin implements Listener {

    private HashMap<Player, Integer> snowflakeParticles;
    private HashMap<Player, Integer> ghoulParticles;
    
    private HashMap<Player, Integer> starterTime;
    private HashMap<Player, BukkitRunnable> starterTask;

    private HashMap<Player, Integer> farmerTime;
    private HashMap<Player, BukkitRunnable> farmerTask;
    
    private HashMap<Player, Integer> merchantTime;
    private HashMap<Player, BukkitRunnable> merchantTask;
    
    private HashMap<Player, Integer> industrialistTime;
    private HashMap<Player, BukkitRunnable> industrialistTask;
    
    private HashMap<Player, Integer> engineerTime;
    private HashMap<Player, BukkitRunnable> engineerTask;

    public static File folder;
    public static File file;
    public static FileConfiguration permissions;

    @Override
    public void onEnable() {

        snowflakeParticles = new HashMap<Player, Integer>();
        ghoulParticles = new HashMap<Player, Integer>();
        
        starterTime = new HashMap<Player, Integer>();
        starterTask = new HashMap<Player, BukkitRunnable>();
        
        farmerTime = new HashMap<Player, Integer>();
        farmerTask = new HashMap<Player, BukkitRunnable>();
        
        merchantTime = new HashMap<Player, Integer>();
        merchantTask = new HashMap<Player, BukkitRunnable>();
        
        industrialistTime = new HashMap<Player, Integer>();
        industrialistTask = new HashMap<Player, BukkitRunnable>();
        
        engineerTime = new HashMap<Player, Integer>();
        engineerTask = new HashMap<Player, BukkitRunnable>();

        Bukkit.getPluginManager().registerEvents(this, this);

        folder = getDataFolder();

        file = new File(folder, "permissions.yml");

        permissions = new YamlConfiguration();

        if (folder.exists() == false)  {


            try {

                folder.mkdir();

            } catch (Exception e) {



            }

        }

        if (file.exists() == false) {

            try {

                file.createNewFile();

            } catch (Exception e) {



            }

        }

        try {

            permissions.load(file);

        } catch (Exception e) {



        }

    }

    @Override
    public void onDisable() {

        try {

            permissions.save(file);

        } catch (Exception e) {



        }

    }
    
    @EventHandler
    public void onPlayerJoin(PlayerJoinEvent e) {

        Player p = e.getPlayer();

        String uuid = p.getUniqueId().toString();

        permissions.set("PlayerInfo." + uuid, p.getName());

        if (!(p.hasPlayedBefore())) {

            permissions.set("Rank." + uuid, 0);

            permissions.set("CupidKit." + uuid, 0);
            permissions.set("LeprechaunKit." + uuid, 0);
            permissions.set("GhoulKit." + uuid, 0);
            permissions.set("SnowflakeKit." + uuid, 0);

            e.setJoinMessage(ChatColor.GREEN + "" + ChatColor.BOLD + "(!) " + ChatColor.GRAY + "Welcome, " + ChatColor.BLACK + "" + ChatColor.BOLD + p.getName() + ChatColor.GRAY + ", to Mutiny Factions!");

        }

        if (p.hasPlayedBefore()) {

            e.setJoinMessage(" ");

        }

        snowflakeParticles.put(p, 0);
        ghoulParticles.put(p, 0);

    }

    @EventHandler
    public void onPlayerLeave(PlayerQuitEvent e) {

        Player p = e.getPlayer();

        e.setQuitMessage(" ");

        snowflakeParticles.put(p, 0);
        ghoulParticles.put(p, 0);

    }

    @EventHandler
    public void onPlayerMove(PlayerMoveEvent e) {

        Player p = e.getPlayer();

        if (snowflakeParticles.get(p) == 1) {

            try {



            } catch (Exception exc) {



            }

        } else if (ghoulParticles.get(p) == 1) {

            try {



            } catch (Exception exc) {



            }

        }

    }

    @EventHandler
    public void onChat(AsyncPlayerChatEvent e) {

        Player p = e.getPlayer();

        if (p.getName().equalsIgnoreCase("lolimez")) {

            e.setFormat(ChatColor.DARK_RED + "" + ChatColor.BOLD + "OWNER " + ChatColor.BLUE + "%s " + ChatColor.WHITE + "%s");

        } else if (p.getName().equalsIgnoreCase("AllHacksNoGame")) {

            e.setFormat(ChatColor.RED + "" + ChatColor.BOLD + "ANTISKID " + ChatColor.BLUE + "%s " + ChatColor.WHITE + "%s");

        } else if (permissions.getInt("Rank." + p.getUniqueId().toString()) == 0) {

            e.setFormat(ChatColor.DARK_GRAY + "" + ChatColor.BOLD + "MEMBER " + ChatColor.GRAY + "%s " + ChatColor.WHITE + "%s");

        } else if (permissions.getInt("Rank." + p.getUniqueId().toString()) == 1) {

            e.setFormat(ChatColor.GREEN + "" + ChatColor.BOLD + "FARMER " + ChatColor.GRAY + "%s " + ChatColor.WHITE + "%s");

        } else if (permissions.getInt("Rank." + p.getUniqueId().toString()) == 2) {

            e.setFormat(ChatColor.YELLOW + "" + ChatColor.BOLD + "MERCHANT " + ChatColor.GRAY + "%s " + ChatColor.WHITE + "%s");

        } else if (permissions.getInt("Rank." + p.getUniqueId().toString()) == 3) {

            e.setFormat(ChatColor.GOLD + "" + ChatColor.BOLD + "INDUSTRIALIST " + ChatColor.GRAY + "%s " + ChatColor.WHITE + "%s");

        } else if (permissions.getInt("Rank." + p.getUniqueId().toString()) == 4) {

            e.setFormat(ChatColor.RED + "" + ChatColor.BOLD + "ENGINEER " + ChatColor.GRAY + "%s " + ChatColor.WHITE + "%s");

        }

    }

    @EventHandler
    public void onInventoryClick(InventoryClickEvent e) {

        Player p = (Player) e.getWhoClicked();

        if (e.getInventory().getName().equalsIgnoreCase(ChatColor.BLUE + "" + ChatColor.BOLD + "Redeem Your Kit") || e.getInventory().getName().equalsIgnoreCase(ChatColor.BLUE + "" + ChatColor.BOLD + "Activate Your Particles")) {

            e.setCancelled(true);

        }
        
        if (e.getInventory().getName().equalsIgnoreCase(ChatColor.BLUE + "" + ChatColor.BOLD + "Redeem Your Kit")) {
        
            if (e.getInventory().getName().equalsIgnoreCase(ChatColor.DARK_GRAY + "" + ChatColor.BOLD + "Kit Starter")) {
                
                if (starterTime.containsKey(p)) {
                
                    p.sendMessage(ChatColor.RED + "" + ChatColor.BOLD + "(!) " + ChatColor.GRAY + "This kit is still on cooldown for " + ChatColor.UNDERLINE + starterTime.get(p) + ChatColor.GRAY + " hours.");
                    return;
                
                } else {
                
                    p.sendMessage(ChatColor.GREEN + "" + ChatColor.BOLD + "(!) " + ChatColor.GRAY + "You have redeemed your " + ChatColor.UNDERLINE + "Starter Kit" + ChatColor.GRAY + ".");
                	
                	ItemStack sword = new ItemStack(Material.DIAMOND_SWORD, 1);
                	ItemMeta swordMeta = sword.getItemMeta();
                	swordMeta.setDisplayName(ChatColor.GRAY + "" + ChatColor.BOLD + "Starter");
                	ArrayList<String> swordLore = new ArrayList<String>();
                	swordLore.add(" ");
                	swordLore.add(ChatColor.GRAY + "Starter Sword");
                	swordMeta.setLore(swordLore);
                	sword.setItemMeta(swordMeta);
                	
                	ItemStack helmet = new ItemStack(Material.IRON_HELMET, 1);
                	ItemMeta helmetMeta = helmet.getItemMeta();
                	helmetMeta.setDisplayName(ChatColor.GRAY + "" + ChatColor.BOLD + "Starter");
                	ArrayList<String> helmetLore = new ArrayList<String>();
                	helmetLore.add(" ");
                	helmetLore.add(ChatColor.GRAY + "Starter Helmet");
                	helmetMeta.setLore(helmetLore);
                	helmet.setItemMeta(helmetMeta);
                	
                	ItemStack chestplate = new ItemStack(Material.IRON_CHESTPLATE, 1);
                	ItemMeta chestplateMeta = chestplate.getItemMeta();
                	chestplateMeta.setDisplayName(ChatColor.GRAY + "" + ChatColor.BOLD + "Starter");
                	ArrayList<String> chestplateLore = new ArrayList<String>();
                	chestplateLore.add(" ");
                	chestplateLore.add(ChatColor.GRAY + "Starter Chestplate");
                	chestplateMeta.setLore(chestplateLore);
                	chestplate.setItemMeta(chestplateMeta);
                	
                	ItemStack leggings = new ItemStack(Material.IRON_LEGGINGS, 1);
                	ItemMeta leggingsMeta = leggings.getItemMeta();
                	leggingsMeta.setDisplayName(ChatColor.GRAY + "" + ChatColor.BOLD + "Starter");
                	ArrayList<String> leggingsLore = new ArrayList<String>();
                	leggingsLore.add(" ");
                	leggingsLore.add(ChatColor.GRAY + "Starter Leggings");
                	leggingsMeta.setLore(leggingsLore);
                	leggings.setItemMeta(leggingsMeta);
                	
                	ItemStack boots = new ItemStack(Material.IRON_BOOTS, 1);
                	ItemMeta bootsMeta = boots.getItemMeta();
                	bootsMeta.setDisplayName(ChatColor.GRAY + "" + ChatColor.BOLD + "Starter");
                	ArrayList<String> bootsLore = new ArrayList<String>();
                	bootsLore.add(" ");
                	bootsLore.add(ChatColor.GRAY + "Starter Boots");
                	bootsMeta.setLore(bootsLore);
                	boots.setItemMeta(bootsMeta);
                	
                	ItemStack pickaxe = new ItemStack(Material.DIAMOND_PICKAXE, 1);
                	ItemMeta pickaxeMeta = pickaxe.getItemMeta();
                	pickaxeMeta.setDisplayName(ChatColor.GRAY + "" + ChatColor.BOLD + "Starter");
                	ArrayList<String> pickaxeLore = new ArrayList<String>();
                	pickaxeLore.add(" ");
                	pickaxeLore.add(ChatColor.GRAY + "Starter Pickaxe");
                	pickaxeMeta.setLore(pickaxeLore);
                	pickaxe.setItemMeta(pickaxeMeta);
                	
                	ItemStack bow = new ItemStack(Material.BOW, 1);
                	ItemMeta bowMeta = bow.getItemMeta();
                	bowMeta.setDisplayName(ChatColor.GRAY + "" + ChatColor.BOLD + "Starter");
                	ArrayList<String> bowLore = new ArrayList<String>();
                	bowLore.add(" ");
                	bowLore.add(ChatColor.GRAY + "Starter Bow");
                	bowMeta.setLore(bowLore);
                	bow.setItemMeta(bowMeta);
                	
                	ItemStack arrows = new ItemStack(Material.ARROW, 32);
                	
                	ItemStack gapples = new ItemStack(Material.GOLDEN_APPLE, 1, (short) 1);
                	
                	ItemStack crapples = new ItemStack(Material.GOLDEN_APPLE, 8);
                	
                	ItemStack tnt = new ItemStack(Material.TNT, 32);
                	
                	ItemStack obby = new ItemStack(Material.OBSIDIAN, 32);
                	
                	ItemStack stone = new ItemStack(Material.STONE, 64);
                	
                	p.getInventory().addItem(sword);
                	p.getInventory().addItem(helmet);
                	p.getInventory().addItem(chestplate);
                	p.getInventory().addItem(leggings);
                	p.getInventory().addItem(boots);
                	p.getInventory().addItem(pickaxe);
                	p.getInventory().addItem(bow);
                	p.getInventory().addItem(arrows);
                	p.getInventory().addItem(gapples);
                	p.getInventory().addItem(crapples);
                	p.getInventory().addItem(tnt);
                	p.getInventory().addItem(obby);
                	p.getInventory().addItem(stone);
                	
                	starterTime.put(p, 24);
                	starterTask.put(p, new BukkitRunnable() {
                		
                		public void run() {
                			
                			starterTime.put(p, starterTime.get(p) - 1);
                			
                			if (starterTime.get(p) == 0) {
                				
                				starterTime.remove(p);
                				starterTask.remove(p);
                				
                				cancel();
                				
                			}
                			
                		}
                		
                	});
                	
                	starterTask.get(p).runTaskTimer(this, 72000, 72000);
                	
                	return;
                	
                }
                
            } else if (e.getInventory().getName().equalsIgnoreCase(ChatColor.GREEN + "" + ChatColor.BOLD + "Kit Farmer")) {
            
                if (permissions.getInt("Rank." + p.getUniqueId()) == 0) {
                
                    p.closeInventory();
                    
                    p.sendMessage(ChatColor.RED + "" + ChatColor.BOLD + "(!) " + ChatColor.GRAY + "You do not have the required permissions.");
                
                } else if (permissions.getInt("Rank." + p.getUniqueId()) == 1) {
                
                    if (farmerTime.containsKey(p)) {
                
                        p.sendMessage(ChatColor.RED + "" + ChatColor.BOLD + "(!) " + ChatColor.GRAY + "This kit is still on cooldown for " + ChatColor.UNDERLINE + farmerTime.get(p) + ChatColor.GRAY + " hours.");
                        return;
                
                    } else {
                
                        p.sendMessage(ChatColor.GREEN + "" + ChatColor.BOLD + "(!) " + ChatColor.GRAY + "You have redeemed your " + ChatColor.UNDERLINE + "Farmer Kit" + ChatColor.GRAY + ".");
                        
                        ItemStack sword = new ItemStack(Material.DIAMOND_SWORD, 1);
                        sword.addEnchantment(Enchantment.DAMAGE_ALL, 2);
                        sword.addEnchantment(Enchantment.LOOT_BONUS_MOBS, 1);
                        ItemMeta swordMeta = sword.getItemMeta();
                        swordMeta.setDisplayName(ChatColor.GREEN + "" + ChatColor.BOLD + "Farmer");
                        ArrayList<String> swordLore = new ArrayList<String>();
                        swordLore.add(" ");
                        swordLore.add(ChatColor.GREEN + "Farmer Sword");
                        swordMeta.setLore(swordLore);
                        sword.setItemMeta(swordMeta);
                        
                        ItemStack helmet = new ItemStack(Material.DIAMOND_HELMET, 1);
                        helmet.addEnchantment(Enchantment.PROTECTION_ENVIRONMENTAL, 2);
                        helmet.addEnchantment(Enchantment.DURABILITY, 1);
                        ItemMeta helmetMeta = helmet.getItemMeta();
                        helmetMeta.setDisplayName(ChatColor.GREEN + "" + ChatColor.BOLD + "Farmer");
                        ArrayList<String> helmetLore = new ArrayList<String>();
                        helmetLore.add(" ");
                        helmetLore.add(ChatColor.GREEN + "Farmer Helmet");
                        helmetMeta.setLore(helmetLore);
                        helmet.setItemMeta(helmetMeta);
                        
                        ItemStack chestplate = new ItemStack(Material.DIAMOND_CHESTPLATE, 1);
                        chestplate.addEnchantment(Enchantment.PROTECTION_ENVIRONMENTAL, 2);
                        chestplate.addEnchantment(Enchantment.DURABILITY, 1);
                        ItemMeta chestplateMeta = chestplate.getItemMeta();
                        chestplateMeta.setDisplayName(ChatColor.GREEN + "" + ChatColor.BOLD + "Farmer");
                        ArrayList<String> chestplateLore = new ArrayList<String>();
                        chestplateLore.add(" ");
                        chestplateLore.add(ChatColor.GREEN + "Farmer Chestplate");
                        chestplateMeta.setLore(chestplateLore);
                        chestplate.setItemMeta(chestplateMeta);
                	
                    	farmerTime.put(p, 24);
                    	farmerTask.put(p, new BukkitRunnable() {
                		
                    		public void run() {
                			
                    			farmerTime.put(p, farmerTime.get(p) - 1);
                			
                    			if (farmerTime.get(p) == 0) {
                				
                    				farmerTime.remove(p);
                    				farmerTask.remove(p);
                				
                    				cancel();
                				
                    			}
                			
                    		}
                		
                    	});
                	
                    	farmerTask.get(p).runTaskTimer(this, 72000, 72000);
                	
                    	return;
                    	
                    }
                
                } else if (permissions.getInt("Rank." + p.getUniqueId().toString()) == 2 || permissions.getInt("Rank." + p.getUniqueId().toString()) == 3 || permissions.getInt("Rank." + p.getUniqueId().toString()) == 4) {
                
                    p.closeInventory();
                    
                    p.sendMessage(ChatColor.RED + "" + ChatColor.BOLD + "(!) " + ChatColor.GRAY + "You already have another rank. If you'd like to upgrade/downgrade, email " + ChatColor.UNDERLINE + "illiteracypvp@gmail.com" + ChatColor.GRAY + " for more information.");
                
                }
                
            } else if (e.getInventory().getName().equalsIgnoreCase(ChatColor.YELLOW + "" + ChatColor.BOLD + "Kit Merchant")) {
            
                if (permissions.getInt("Rank." + p.getUniqueId()) == 0) {
                    
                    p.closeInventory();
                    
                    p.sendMessage(ChatColor.RED + "" + ChatColor.BOLD + "(!) " + ChatColor.GRAY + "You do not have the required permissions.");
                
                } else if (permissions.getInt("Rank." + p.getUniqueId()) == 2) {
                
                    if (merchantTime.containsKey(p)) {
                
                        p.sendMessage(ChatColor.RED + "" + ChatColor.BOLD + "(!) " + ChatColor.GRAY + "This kit is still on cooldown for " + ChatColor.UNDERLINE + merchantTime.get(p) + ChatColor.GRAY + " hours.");
                        return;
                
                    } else {
                
                        p.sendMessage(ChatColor.GREEN + "" + ChatColor.BOLD + "(!) " + ChatColor.GRAY + "You have redeemed your " + ChatColor.UNDERLINE + "Merchant Kit" + ChatColor.GRAY + ".");
                	
                    	merchantTime.put(p, 24);
                    	merchantTask.put(p, new BukkitRunnable() {
                		
                    		public void run() {
                			
                    			merchantTime.put(p, merchantTime.get(p) - 1);
                			
                    			if (merchantTime.get(p) == 0) {
                				
                    				merchantTime.remove(p);
                    				merchantTask.remove(p);
                				
                    				cancel();
                				
                    			}
                			
                    		}
                		
                    	});
                	
                    	merchantTask.get(p).runTaskTimer(this, 72000, 72000);
                	
                    	return;
                    	
                    }
                
                } else if (permissions.getInt("Rank." + p.getUniqueId().toString()) == 1 || permissions.getInt("Rank." + p.getUniqueId().toString()) == 3 || permissions.getInt("Rank." + p.getUniqueId().toString()) == 4) {
                
                    p.closeInventory();
                    
                    p.sendMessage(ChatColor.RED + "" + ChatColor.BOLD + "(!) " + ChatColor.GRAY + "You already have another rank. If you'd like to upgrade/downgrade, email " + ChatColor.UNDERLINE + "illiteracypvp@gmail.com" + ChatColor.GRAY + " for more information.");
                
                }
            
            } else if (e.getInventory().getName().equalsIgnoreCase(ChatColor.GOLD + "" + ChatColor.BOLD + "Kit Industrialist")) {
            
                if (permissions.getInt("Rank." + p.getUniqueId()) == 0) {
                    
                    p.closeInventory();
                    
                    p.sendMessage(ChatColor.RED + "" + ChatColor.BOLD + "(!) " + ChatColor.GRAY + "You do not have the required permissions.");
                
                } else if (permissions.getInt("Rank." + p.getUniqueId()) == 3) {
                
                    if (industrialistTime.containsKey(p)) {
                
                        p.sendMessage(ChatColor.RED + "" + ChatColor.BOLD + "(!) " + ChatColor.GRAY + "This kit is still on cooldown for " + ChatColor.UNDERLINE + industrialistTime.get(p) + ChatColor.GRAY + " hours.");
                        return;
                
                    } else {
                
                        p.sendMessage(ChatColor.GREEN + "" + ChatColor.BOLD + "(!) " + ChatColor.GRAY + "You have redeemed your " + ChatColor.UNDERLINE + "Industrialist Kit" + ChatColor.GRAY + ".");
                	
                    	industrialistTime.put(p, 24);
                    	industrialistTask.put(p, new BukkitRunnable() {
                		
                    		public void run() {
                			
                    			industrialistTime.put(p, industrialistTime.get(p) - 1);
                			
                    			if (industrialistTime.get(p) == 0) {
                				
                    				industrialistTime.remove(p);
                    				industrialistTask.remove(p);
                				
                    				cancel();
                				
                    			}
                			
                    		}
                		
                    	});
                	
                    	industrialistTask.get(p).runTaskTimer(this, 72000, 72000);
                	
                    	return;
                    	
                    }
                
                } else if (permissions.getInt("Rank." + p.getUniqueId().toString()) == 1 || permissions.getInt("Rank." + p.getUniqueId().toString()) == 2 || permissions.getInt("Rank." + p.getUniqueId().toString()) == 4) {
                
                    p.closeInventory();
                    
                    p.sendMessage(ChatColor.RED + "" + ChatColor.BOLD + "(!) " + ChatColor.GRAY + "You already have another rank. If you'd like to upgrade/downgrade, email " + ChatColor.UNDERLINE + "illiteracypvp@gmail.com" + ChatColor.GRAY + " for more information.");
                
                }
            
            } else if (e.getInventory().getName().equalsIgnoreCase(ChatColor.RED + "" + ChatColor.BOLD + "Kit Engineer")) {
            
                if (permissions.getInt("Rank." + p.getUniqueId()) == 0) {
                    
                    p.closeInventory();
                    
                    p.sendMessage(ChatColor.RED + "" + ChatColor.BOLD + "(!) " + ChatColor.GRAY + "You do not have the required permissions.");
                
                } else if (permissions.getInt("Rank." + p.getUniqueId()) == 4) {
                
                    if (engineerTime.containsKey(p)) {
                
                        p.sendMessage(ChatColor.RED + "" + ChatColor.BOLD + "(!) " + ChatColor.GRAY + "This kit is still on cooldown for " + ChatColor.UNDERLINE + engineerTime.get(p) + ChatColor.GRAY + " hours.");
                        return;
                
                    } else {
                
                        p.sendMessage(ChatColor.GREEN + "" + ChatColor.BOLD + "(!) " + ChatColor.GRAY + "You have redeemed your " + ChatColor.UNDERLINE + "Engineer Kit" + ChatColor.GRAY + ".");
                	
                    	engineerTime.put(p, 24);
                    	engineerTask.put(p, new BukkitRunnable() {
                		
                    		public void run() {
                			
                    			engineerTime.put(p, engineerTime.get(p) - 1);
                			
                    			if (engineerTime.get(p) == 0) {
                				
                    				engineerTime.remove(p);
                    				engineerTask.remove(p);
                				
                    				cancel();
                				
                    			}
                			
                    		}
                		
                    	});
                	
                    	engineerTask.get(p).runTaskTimer(this, 72000, 72000);
                	
                    	return;
                    	
                    }
                
                } else if (permissions.getInt("Rank." + p.getUniqueId().toString()) == 1 || permissions.getInt("Rank." + p.getUniqueId().toString()) == 2 || permissions.getInt("Rank." + p.getUniqueId().toString()) == 3) {
                
                    p.closeInventory();
                    
                    p.sendMessage(ChatColor.RED + "" + ChatColor.BOLD + "(!) " + ChatColor.GRAY + "You already have another rank. If you'd like to upgrade/downgrade, email " + ChatColor.UNDERLINE + "illiteracypvp@gmail.com" + ChatColor.GRAY + " for more information.");
                
                }
            
            }
        
        }

        if (e.getInventory().getName().equalsIgnoreCase(ChatColor.BLUE + "" + ChatColor.BOLD + "Activate Your Particles")) {

            if (e.getCurrentItem().getItemMeta().getDisplayName().equalsIgnoreCase(ChatColor.WHITE + "" + ChatColor.BOLD + "Snowflake Particles")) {

                if (permissions.getInt("SnowflakeKit." + p.getUniqueId().toString()) == 0) {

                    p.closeInventory();

                    p.sendMessage(ChatColor.RED + "" + ChatColor.BOLD + "(!) " + ChatColor.GRAY + "You do not have access to these particles.");

                } else if (permissions.getInt("SnowflakeKit." + p.getUniqueId().toString()) == 1) {

                    if (snowflakeParticles.get(p) == 0) {

                        p.closeInventory();

                        snowflakeParticles.put(p, 1);
                        ghoulParticles.put(p, 0);

                        p.sendMessage(ChatColor.GREEN + "" + ChatColor.BOLD + "(!) " + ChatColor.GRAY + "You have successfully activated your particles.");

                    } else if (snowflakeParticles.get(p) == 1) {

                        p.closeInventory();

                        snowflakeParticles.put(p, 0);

                        p.sendMessage(ChatColor.GREEN + "" + ChatColor.BOLD + "(!) " + ChatColor.GRAY + "You have successfully de-activated your particles.");

                    }

                }

            } else if (e.getCurrentItem().getItemMeta().getDisplayName().equalsIgnoreCase(ChatColor.DARK_PURPLE + "" + ChatColor.BOLD + "Ghoul Particles")) {

                if (permissions.getInt("GhoulKit." + p.getUniqueId().toString()) == 0) {

                    p.closeInventory();

                    p.sendMessage(ChatColor.RED + "" + ChatColor.BOLD + "(!) " + ChatColor.GRAY + "You do not have access to these particles.");

                } else if (permissions.getInt("GhoulKit." + p.getUniqueId().toString()) == 1) {

                    if (ghoulParticles.get(p) == 0) {

                        p.closeInventory();

                        ghoulParticles.put(p, 1);
                        snowflakeParticles.put(p, 0);

                        p.sendMessage(ChatColor.GREEN + "" + ChatColor.BOLD + "(!) " + ChatColor.GRAY + "You have successfully activated your particles.");

                    } else if (ghoulParticles.get(p) == 1) {

                        p.closeInventory();

                        ghoulParticles.put(p, 0);

                        p.sendMessage(ChatColor.GREEN + "" + ChatColor.BOLD + "(!) " + ChatColor.GRAY + "You have successfully de-activated your particles.");

                    }

                }

            }

        }

    }

    public boolean onCommand(CommandSender sender, Command cmd, String label, String[] args) {

        Player p = (Player) sender;

        if (cmd.getName().equalsIgnoreCase("kit")) {

            kitMenu(p);

        }

        if (cmd.getName().equalsIgnoreCase("particles")) {

            particleMenu(p);

        }

        return true;

    }

    public void kitMenu(Player p) {

        Inventory kit = Bukkit.createInventory(null, 9, ChatColor.BLUE + "" + ChatColor.BOLD + "Redeem Your Kit");

        ItemStack starter = new ItemStack(Material.INK_SACK, 1, (short) 7);
        ItemMeta starterMeta = starter.getItemMeta();
        starterMeta.setDisplayName(ChatColor.DARK_GRAY + "" + ChatColor.BOLD + "Kit Starter");
        ArrayList<String> starterLore = new ArrayList<String>();
        starterLore.add(ChatColor.GRAY + "This kit is automatically unlocked.");
        starterLore.add(" ");
        starterLore.add(ChatColor.GRAY + "Click to redeem this kit.");
        starterLore.add(" ");
        starterLore.add(ChatColor.GREEN + "" + ChatColor.BOLD + "Unlocked");
        starterMeta.setLore(starterLore);
        starter.setItemMeta(starterMeta);

        kit.setItem(0, starter);

        if (permissions.getInt("Rank." + p.getUniqueId().toString()) == 0) {

            ItemStack farmer = new ItemStack(Material.INK_SACK, 1, (short) 2);
            ItemMeta farmerMeta = farmer.getItemMeta();
            farmerMeta.setDisplayName(ChatColor.GREEN + "" + ChatColor.BOLD + "Kit Farmer");
            ArrayList<String> farmerLore = new ArrayList<String>();
            farmerLore.add(ChatColor.GRAY + "This kit is not automatically unlocked.");
            farmerLore.add(" ");
            farmerLore.add(ChatColor.GRAY + "Go to " + ChatColor.UNDERLINE + "paypal.me/lolimez/10" + ChatColor.GRAY + " and complete ");
            farmerLore.add(ChatColor.GRAY + "the purchase to receive this rank.");
            farmerLore.add(" ");
            farmerLore.add(ChatColor.RED + "" + ChatColor.BOLD + "Locked");
            farmerMeta.setLore(farmerLore);
            farmer.setItemMeta(farmerMeta);

            ItemStack merchant = new ItemStack(Material.INK_SACK, 1, (short) 11);
            ItemMeta merchantMeta = merchant.getItemMeta();
            merchantMeta.setDisplayName(ChatColor.BLUE + "" + ChatColor.BOLD + "Kit Merchant");
            ArrayList<String> merchantLore = new ArrayList<String>();
            merchantLore.add(ChatColor.GRAY + "This kit is not automatically unlocked.");
            merchantLore.add(" ");
            merchantLore.add(ChatColor.GRAY + "Go to " + ChatColor.UNDERLINE + "paypal.me/lolimez/15" + ChatColor.GRAY + " and complete ");
            merchantLore.add(ChatColor.GRAY + "the purchase to receive this rank.");
            merchantLore.add(" ");
            merchantLore.add(ChatColor.RED + "" + ChatColor.BOLD + "Locked");
            merchantMeta.setLore(merchantLore);
            merchant.setItemMeta(merchantMeta);

            ItemStack industrialist = new ItemStack(Material.INK_SACK, 1, (short) 14);
            ItemMeta industrialistMeta = industrialist.getItemMeta();
            industrialistMeta.setDisplayName(ChatColor.GOLD + "" + ChatColor.BOLD + "Kit Industrialist");
            ArrayList<String> industrialistLore = new ArrayList<String>();
            industrialistLore.add(ChatColor.GRAY + "This kit is not automatically unlocked.");
            industrialistLore.add(" ");
            industrialistLore.add(ChatColor.GRAY + "Go to " + ChatColor.UNDERLINE + "paypal.me/lolimez/25" + ChatColor.GRAY + " and complete ");
            industrialistLore.add(ChatColor.GRAY + "the purchase to receive this rank.");
            industrialistLore.add(" ");
            industrialistLore.add(ChatColor.RED + "" + ChatColor.BOLD + "Locked");
            industrialistMeta.setLore(industrialistLore);
            industrialist.setItemMeta(industrialistMeta);

            ItemStack engineer = new ItemStack(Material.INK_SACK, 1, (short) 1);
            ItemMeta engineerMeta = engineer.getItemMeta();
            engineerMeta.setDisplayName(ChatColor.GOLD + "" + ChatColor.BOLD + "Kit Engineer");
            ArrayList<String> engineerLore = new ArrayList<String>();
            engineerLore.add(ChatColor.GRAY + "This kit is not automatically unlocked.");
            engineerLore.add(" ");
            engineerLore.add(ChatColor.GRAY + "Go to " + ChatColor.UNDERLINE + "paypal.me/lolimez/35" + ChatColor.GRAY + " and complete ");
            engineerLore.add(ChatColor.GRAY + "the purchase to receive this rank.");
            engineerLore.add(" ");
            engineerLore.add(ChatColor.RED + "" + ChatColor.BOLD + "Locked");
            engineerMeta.setLore(engineerLore);
            engineer.setItemMeta(engineerMeta);

            kit.setItem(1, farmer);
            kit.setItem(2, merchant);
            kit.setItem(3, industrialist);
            kit.setItem(4, engineer);

        } else if (permissions.getInt("Rank." + p.getUniqueId().toString()) == 1) {

            ItemStack farmer = new ItemStack(Material.INK_SACK, 1, (short) 2);
            ItemMeta farmerMeta = farmer.getItemMeta();
            farmerMeta.setDisplayName(ChatColor.GREEN + "" + ChatColor.BOLD + "Kit Farmer");
            ArrayList<String> farmerLore = new ArrayList<String>();
            farmerLore.add(ChatColor.GRAY + "You already have access to this kit.");
            farmerLore.add(" ");
            farmerLore.add(ChatColor.GRAY + "Click to redeem this kit.");
            farmerLore.add(" ");
            farmerLore.add(ChatColor.GREEN + "" + ChatColor.BOLD + "Unlocked");
            farmerMeta.setLore(farmerLore);
            farmer.setItemMeta(farmerMeta);

            ItemStack merchant = new ItemStack(Material.INK_SACK, 1, (short) 11);
            ItemMeta merchantMeta = merchant.getItemMeta();
            merchantMeta.setDisplayName(ChatColor.BLUE + "" + ChatColor.BOLD + "Kit Merchant");
            ArrayList<String> merchantLore = new ArrayList<String>();
            merchantLore.add(ChatColor.GRAY + "This kit is not automatically unlocked.");
            merchantLore.add(" ");
            merchantLore.add(ChatColor.GRAY + "Go to " + ChatColor.UNDERLINE + "paypal.me/lolimez/15" + ChatColor.GRAY + " and complete ");
            merchantLore.add(ChatColor.GRAY + "the purchase to receive this rank.");
            merchantLore.add(" ");
            merchantLore.add(ChatColor.RED + "" + ChatColor.BOLD + "Locked");
            merchantMeta.setLore(merchantLore);
            merchant.setItemMeta(merchantMeta);

            ItemStack industrialist = new ItemStack(Material.INK_SACK, 1, (short) 14);
            ItemMeta industrialistMeta = industrialist.getItemMeta();
            industrialistMeta.setDisplayName(ChatColor.GOLD + "" + ChatColor.BOLD + "Kit Industrialist");
            ArrayList<String> industrialistLore = new ArrayList<String>();
            industrialistLore.add(ChatColor.GRAY + "This kit is not automatically unlocked.");
            industrialistLore.add(" ");
            industrialistLore.add(ChatColor.GRAY + "Go to " + ChatColor.UNDERLINE + "paypal.me/lolimez/25" + ChatColor.GRAY + " and complete ");
            industrialistLore.add(ChatColor.GRAY + "the purchase to receive this rank.");
            industrialistLore.add(" ");
            industrialistLore.add(ChatColor.RED + "" + ChatColor.BOLD + "Locked");
            industrialistMeta.setLore(industrialistLore);
            industrialist.setItemMeta(industrialistMeta);

            ItemStack engineer = new ItemStack(Material.INK_SACK, 1, (short) 1);
            ItemMeta engineerMeta = engineer.getItemMeta();
            engineerMeta.setDisplayName(ChatColor.GOLD + "" + ChatColor.BOLD + "Kit Engineer");
            ArrayList<String> engineerLore = new ArrayList<String>();
            engineerLore.add(ChatColor.GRAY + "This kit is not automatically unlocked.");
            engineerLore.add(" ");
            engineerLore.add(ChatColor.GRAY + "Go to " + ChatColor.UNDERLINE + "paypal.me/lolimez/35" + ChatColor.GRAY + " and complete ");
            engineerLore.add(ChatColor.GRAY + "the purchase to receive this rank.");
            engineerLore.add(" ");
            engineerLore.add(ChatColor.RED + "" + ChatColor.BOLD + "Locked");
            engineerMeta.setLore(engineerLore);
            engineer.setItemMeta(engineerMeta);

            kit.setItem(1, farmer);
            kit.setItem(2, merchant);
            kit.setItem(3, industrialist);
            kit.setItem(4, engineer);

        } else if (permissions.getInt("Rank." + p.getUniqueId().toString()) == 2) {

            ItemStack farmer = new ItemStack(Material.INK_SACK, 1, (short) 2);
            ItemMeta farmerMeta = farmer.getItemMeta();
            farmerMeta.setDisplayName(ChatColor.GREEN + "" + ChatColor.BOLD + "Kit Farmer");
            ArrayList<String> farmerLore = new ArrayList<String>();
            farmerLore.add(ChatColor.GRAY + "This kit is not automatically unlocked.");
            farmerLore.add(" ");
            farmerLore.add(ChatColor.GRAY + "Go to " + ChatColor.UNDERLINE + "paypal.me/lolimez/10" + ChatColor.GRAY + " and complete ");
            farmerLore.add(ChatColor.GRAY + "the purchase to receive this rank.");
            farmerLore.add(" ");
            farmerLore.add(ChatColor.RED + "" + ChatColor.BOLD + "Locked");
            farmerMeta.setLore(farmerLore);
            farmer.setItemMeta(farmerMeta);

            ItemStack merchant = new ItemStack(Material.INK_SACK, 1, (short) 11);
            ItemMeta merchantMeta = merchant.getItemMeta();
            merchantMeta.setDisplayName(ChatColor.BLUE + "" + ChatColor.BOLD + "Kit Merchant");
            ArrayList<String> merchantLore = new ArrayList<String>();
            merchantLore.add(ChatColor.GRAY + "You already have access to this kit.");
            merchantLore.add(" ");
            merchantLore.add(ChatColor.GRAY + "Click to redeem this kit.");
            merchantLore.add(" ");
            merchantLore.add(ChatColor.GREEN + "" + ChatColor.BOLD + "Unlocked");
            merchantMeta.setLore(merchantLore);
            merchant.setItemMeta(merchantMeta);

            ItemStack industrialist = new ItemStack(Material.INK_SACK, 1, (short) 14);
            ItemMeta industrialistMeta = industrialist.getItemMeta();
            industrialistMeta.setDisplayName(ChatColor.GOLD + "" + ChatColor.BOLD + "Kit Industrialist");
            ArrayList<String> industrialistLore = new ArrayList<String>();
            industrialistLore.add(ChatColor.GRAY + "This kit is not automatically unlocked.");
            industrialistLore.add(" ");
            industrialistLore.add(ChatColor.GRAY + "Go to " + ChatColor.UNDERLINE + "paypal.me/lolimez/25" + ChatColor.GRAY + " and complete ");
            industrialistLore.add(ChatColor.GRAY + "the purchase to receive this rank.");
            industrialistLore.add(" ");
            industrialistLore.add(ChatColor.RED + "" + ChatColor.BOLD + "Locked");
            industrialistMeta.setLore(industrialistLore);
            industrialist.setItemMeta(industrialistMeta);

            ItemStack engineer = new ItemStack(Material.INK_SACK, 1, (short) 1);
            ItemMeta engineerMeta = engineer.getItemMeta();
            engineerMeta.setDisplayName(ChatColor.GOLD + "" + ChatColor.BOLD + "Kit Engineer");
            ArrayList<String> engineerLore = new ArrayList<String>();
            engineerLore.add(ChatColor.GRAY + "This kit is not automatically unlocked.");
            engineerLore.add(" ");
            engineerLore.add(ChatColor.GRAY + "Go to " + ChatColor.UNDERLINE + "paypal.me/lolimez/35" + ChatColor.GRAY + " and complete ");
            engineerLore.add(ChatColor.GRAY + "the purchase to receive this rank.");
            engineerLore.add(" ");
            engineerLore.add(ChatColor.RED + "" + ChatColor.BOLD + "Locked");
            engineerMeta.setLore(engineerLore);
            engineer.setItemMeta(engineerMeta);

            kit.setItem(1, farmer);
            kit.setItem(2, merchant);
            kit.setItem(3, industrialist);
            kit.setItem(4, engineer);

        } else if (permissions.getInt("Rank." + p.getUniqueId().toString()) == 3) {

            ItemStack farmer = new ItemStack(Material.INK_SACK, 1, (short) 2);
            ItemMeta farmerMeta = farmer.getItemMeta();
            farmerMeta.setDisplayName(ChatColor.GREEN + "" + ChatColor.BOLD + "Kit Farmer");
            ArrayList<String> farmerLore = new ArrayList<String>();
            farmerLore.add(ChatColor.GRAY + "This kit is not automatically unlocked.");
            farmerLore.add(" ");
            farmerLore.add(ChatColor.GRAY + "Go to " + ChatColor.UNDERLINE + "paypal.me/lolimez/10" + ChatColor.GRAY + " and complete ");
            farmerLore.add(ChatColor.GRAY + "the purchase to receive this rank.");
            farmerLore.add(" ");
            farmerLore.add(ChatColor.RED + "" + ChatColor.BOLD + "Locked");
            farmerMeta.setLore(farmerLore);
            farmer.setItemMeta(farmerMeta);

            ItemStack merchant = new ItemStack(Material.INK_SACK, 1, (short) 11);
            ItemMeta merchantMeta = merchant.getItemMeta();
            merchantMeta.setDisplayName(ChatColor.BLUE + "" + ChatColor.BOLD + "Kit Merchant");
            ArrayList<String> merchantLore = new ArrayList<String>();
            farmerLore.add(ChatColor.GRAY + "This kit is not automatically unlocked.");
            farmerLore.add(" ");
            farmerLore.add(ChatColor.GRAY + "Go to " + ChatColor.UNDERLINE + "paypal.me/lolimez/15" + ChatColor.GRAY + " and complete ");
            farmerLore.add(ChatColor.GRAY + "the purchase to receive this rank.");
            farmerLore.add(" ");
            farmerLore.add(ChatColor.RED + "" + ChatColor.BOLD + "Locked");
            merchantMeta.setLore(merchantLore);
            merchant.setItemMeta(merchantMeta);

            ItemStack industrialist = new ItemStack(Material.INK_SACK, 1, (short) 14);
            ItemMeta industrialistMeta = industrialist.getItemMeta();
            industrialistMeta.setDisplayName(ChatColor.GOLD + "" + ChatColor.BOLD + "Kit Industrialist");
            ArrayList<String> industrialistLore = new ArrayList<String>();
            industrialistLore.add(ChatColor.GRAY + "You already have access to this kit.");
            industrialistLore.add(" ");
            industrialistLore.add(ChatColor.GRAY + "Click to redeem this kit.");
            industrialistLore.add(" ");
            industrialistLore.add(ChatColor.GREEN + "" + ChatColor.BOLD + "Unlocked");
            industrialistMeta.setLore(industrialistLore);
            industrialist.setItemMeta(industrialistMeta);

            ItemStack engineer = new ItemStack(Material.INK_SACK, 1, (short) 1);
            ItemMeta engineerMeta = engineer.getItemMeta();
            engineerMeta.setDisplayName(ChatColor.GOLD + "" + ChatColor.BOLD + "Kit Engineer");
            ArrayList<String> engineerLore = new ArrayList<String>();
            engineerLore.add(ChatColor.GRAY + "This kit is not automatically unlocked.");
            engineerLore.add(" ");
            engineerLore.add(ChatColor.GRAY + "Go to " + ChatColor.UNDERLINE + "paypal.me/lolimez/35" + ChatColor.GRAY + " and complete ");
            engineerLore.add(ChatColor.GRAY + "the purchase to receive this rank.");
            engineerLore.add(" ");
            engineerLore.add(ChatColor.RED + "" + ChatColor.BOLD + "Locked");
            engineerMeta.setLore(engineerLore);
            engineer.setItemMeta(engineerMeta);

            kit.setItem(1, farmer);
            kit.setItem(2, merchant);
            kit.setItem(3, industrialist);
            kit.setItem(4, engineer);

        } else if (permissions.getInt("Rank." + p.getUniqueId().toString()) == 4) {

            ItemStack farmer = new ItemStack(Material.INK_SACK, 1, (short) 2);
            ItemMeta farmerMeta = farmer.getItemMeta();
            farmerMeta.setDisplayName(ChatColor.GREEN + "" + ChatColor.BOLD + "Kit Farmer");
            ArrayList<String> farmerLore = new ArrayList<String>();
            farmerLore.add(ChatColor.GRAY + "This kit is not automatically unlocked.");
            farmerLore.add(" ");
            farmerLore.add(ChatColor.GRAY + "Go to " + ChatColor.UNDERLINE + "paypal.me/lolimez/10" + ChatColor.GRAY + " and complete ");
            farmerLore.add(ChatColor.GRAY + "the purchase to receive this rank.");
            farmerLore.add(" ");
            farmerLore.add(ChatColor.RED + "" + ChatColor.BOLD + "Locked");
            farmerMeta.setLore(farmerLore);
            farmer.setItemMeta(farmerMeta);

            ItemStack merchant = new ItemStack(Material.INK_SACK, 1, (short) 11);
            ItemMeta merchantMeta = merchant.getItemMeta();
            merchantMeta.setDisplayName(ChatColor.BLUE + "" + ChatColor.BOLD + "Kit Merchant");
            ArrayList<String> merchantLore = new ArrayList<String>();
            merchantLore.add(ChatColor.GRAY + "This kit is not automatically unlocked.");
            merchantLore.add(" ");
            merchantLore.add(ChatColor.GRAY + "Go to " + ChatColor.UNDERLINE + "paypal.me/lolimez/15" + ChatColor.GRAY + " and complete ");
            merchantLore.add(ChatColor.GRAY + "the purchase to receive this rank.");
            merchantLore.add(" ");
            merchantLore.add(ChatColor.RED + "" + ChatColor.BOLD + "Locked");
            merchantMeta.setLore(merchantLore);
            merchant.setItemMeta(merchantMeta);

            ItemStack industrialist = new ItemStack(Material.INK_SACK, 1, (short) 14);
            ItemMeta industrialistMeta = industrialist.getItemMeta();
            industrialistMeta.setDisplayName(ChatColor.GOLD + "" + ChatColor.BOLD + "Kit Industrialist");
            ArrayList<String> industrialistLore = new ArrayList<String>();
            industrialistLore.add(ChatColor.GRAY + "This kit is not automatically unlocked.");
            industrialistLore.add(" ");
            industrialistLore.add(ChatColor.GRAY + "Go to " + ChatColor.UNDERLINE + "paypal.me/lolimez/25" + ChatColor.GRAY + " and complete ");
            industrialistLore.add(ChatColor.GRAY + "the purchase to receive this rank.");
            industrialistLore.add(" ");
            industrialistLore.add(ChatColor.RED + "" + ChatColor.BOLD + "Locked");
            industrialistMeta.setLore(industrialistLore);
            industrialist.setItemMeta(industrialistMeta);

            ItemStack engineer = new ItemStack(Material.INK_SACK, 1, (short) 1);
            ItemMeta engineerMeta = engineer.getItemMeta();
            engineerMeta.setDisplayName(ChatColor.GOLD + "" + ChatColor.BOLD + "Kit Engineer");
            ArrayList<String> engineerLore = new ArrayList<String>();
            engineerLore.add(ChatColor.GRAY + "You already have access to this kit.");
            engineerLore.add(" ");
            engineerLore.add(ChatColor.GRAY + "Click to redeem this kit.");
            engineerLore.add(" ");
            engineerLore.add(ChatColor.GREEN + "" + ChatColor.BOLD + "Unlocked");
            engineerMeta.setLore(engineerLore);
            engineer.setItemMeta(engineerMeta);

            kit.setItem(1, farmer);
            kit.setItem(2, merchant);
            kit.setItem(3, industrialist);
            kit.setItem(4, engineer);

        }

        p.openInventory(kit);

    }

    public void particleMenu(Player p) {

        Inventory particles = Bukkit.createInventory(null, InventoryType.HOPPER, ChatColor.BLUE + "" + ChatColor.BOLD + "Activate Your Particles");

        if (permissions.getInt("SnowflakeKit." + p.getUniqueId().toString()) == 0) {

            ItemStack snowflake = new ItemStack(Material.STAINED_GLASS_PANE, 1, (short) 0);
            ItemMeta snowflakeMeta = snowflake.getItemMeta();
            snowflakeMeta.setDisplayName(ChatColor.WHITE + "" + ChatColor.BOLD + "Snowflake Particles");
            ArrayList<String> snowflakeLore = new ArrayList<String>();
            snowflakeLore.add(ChatColor.GRAY + "These particles come in the Snowflake Kit package.");
            snowflakeLore.add(" ");
            snowflakeLore.add(ChatColor.GRAY + "Go to " + ChatColor.UNDERLINE + "paypal.me/lolimez/30" + ChatColor.GRAY + " and complete ");
            snowflakeLore.add(ChatColor.GRAY + "the purchase to receive this kit.");
            snowflakeLore.add(" ");
            snowflakeLore.add(ChatColor.RED + "" + ChatColor.BOLD + "Locked");
            snowflakeMeta.setLore(snowflakeLore);
            snowflake.setItemMeta(snowflakeMeta);

            particles.setItem(1, snowflake);

        } else if (permissions.getInt("SnowflakeKit." + p.getUniqueId().toString()) == 1) {

            ItemStack snowflake = new ItemStack(Material.STAINED_GLASS_PANE, 1, (short) 0);
            ItemMeta snowflakeMeta = snowflake.getItemMeta();
            snowflakeMeta.setDisplayName(ChatColor.WHITE + "" + ChatColor.BOLD + "Snowflake Particles");
            ArrayList<String> snowflakeLore = new ArrayList<String>();
            snowflakeLore.add(ChatColor.GRAY + "These particles come in the Snowflake Kit package.");
            snowflakeLore.add(" ");
            snowflakeLore.add(ChatColor.GRAY + "Click to activate this particle effect.");
            snowflakeLore.add(" ");
            snowflakeLore.add(ChatColor.GREEN + "" + ChatColor.BOLD + "Unlocked");
            snowflakeMeta.setLore(snowflakeLore);
            snowflake.setItemMeta(snowflakeMeta);

            particles.setItem(1, snowflake);

        }

        if (permissions.getInt("GhoulKit." + p.getUniqueId().toString()) == 0) {

            ItemStack ghoul = new ItemStack(Material.STAINED_GLASS_PANE, 1, (short) 10);
            ItemMeta ghoulMeta = ghoul.getItemMeta();
            ghoulMeta.setDisplayName(ChatColor.DARK_PURPLE + "" + ChatColor.BOLD + "Ghoul Particles");
            ArrayList<String> ghoulLore = new ArrayList<String>();
            ghoulLore.add(ChatColor.GRAY + "These particles come in the Ghoul Kit package.");
            ghoulLore.add(" ");
            ghoulLore.add(ChatColor.GRAY + "Go to " + ChatColor.UNDERLINE + "paypal.me/lolimez/32" + ChatColor.GRAY + " and complete ");
            ghoulLore.add(ChatColor.GRAY + "the purchase to receive this kit.");
            ghoulLore.add(" ");
            ghoulLore.add(ChatColor.RED + "" + ChatColor.BOLD + "Locked");
            ghoulMeta.setLore(ghoulLore);
            ghoul.setItemMeta(ghoulMeta);

            particles.setItem(3, ghoul);

        } else if (permissions.getInt("GhoulKit." + p.getUniqueId().toString()) == 1) {

            ItemStack ghoul = new ItemStack(Material.STAINED_GLASS_PANE, 1, (short) 10);
            ItemMeta ghoulMeta = ghoul.getItemMeta();
            ghoulMeta.setDisplayName(ChatColor.DARK_PURPLE + "" + ChatColor.BOLD + "Ghoul Particles");
            ArrayList<String> ghoulLore = new ArrayList<String>();
            ghoulLore.add(ChatColor.GRAY + "These particles come in the Snowflake Kit package.");
            ghoulLore.add(" ");
            ghoulLore.add(ChatColor.GRAY + "Click to activate this particle effect.");
            ghoulLore.add(" ");
            ghoulLore.add(ChatColor.GREEN + "" + ChatColor.BOLD + "Unlocked");
            ghoulMeta.setLore(ghoulLore);
            ghoul.setItemMeta(ghoulMeta);

            particles.setItem(3, ghoul);

        }

        p.openInventory(particles);

    }

}
